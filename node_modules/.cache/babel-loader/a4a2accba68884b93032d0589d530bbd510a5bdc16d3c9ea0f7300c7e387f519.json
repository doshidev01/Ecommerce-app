{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\doshi\\\\Desktop\\\\InnoCapital\\\\ecommerce-app\\\\src\\\\context\\\\shop-context.js\",\n  _s = $RefreshSig$();\nimport React, { useState, createContext, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ShopContext = /*#__PURE__*/createContext(null);\nconst getDefaultCart = products => {\n  let cart = {};\n  products.forEach(product => {\n    cart[product.id] = 0;\n  });\n  return cart;\n};\nexport const ShopContextProvider = props => {\n  _s();\n  const [products, setProducts] = useState([]);\n  useEffect(() => {\n    fetch('https://dummyjson.com/products').then(res => res.json()).then(data => {\n      setProducts(data.products);\n      setCartItems(getDefaultCart(data.products));\n    }).catch(error => console.error('Error fetching data:', error));\n  }, []);\n  const [cartItems, setCartItems] = useState(getDefaultCart(products));\n  const addToCart = ProdID => {\n    setCartItems(prevState => ({\n      ...prevState,\n      [ProdID]: prevState[ProdID] + 1\n    }));\n  };\n  const removeFromCart = ProdID => {\n    setCartItems(prevState => ({\n      ...prevState,\n      [ProdID]: Math.max(0, prevState[ProdID] - 1)\n    }));\n  };\n  const updateCartItemCount = (neAmount, itemID) => {\n    setCartItems(prevState => ({}));\n  };\n  const contextValue = {\n    products,\n    cartItems,\n    addToCart,\n    removeFromCart\n  };\n  return /*#__PURE__*/_jsxDEV(ShopContext.Provider, {\n    value: contextValue,\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 10\n  }, this);\n};\n_s(ShopContextProvider, \"0eHEx/zeaciZtmMHfbPr5+sum9s=\");\n_c = ShopContextProvider;\nvar _c;\n$RefreshReg$(_c, \"ShopContextProvider\");","map":{"version":3,"names":["React","useState","createContext","useEffect","jsxDEV","_jsxDEV","ShopContext","getDefaultCart","products","cart","forEach","product","id","ShopContextProvider","props","_s","setProducts","fetch","then","res","json","data","setCartItems","catch","error","console","cartItems","addToCart","ProdID","prevState","removeFromCart","Math","max","updateCartItemCount","neAmount","itemID","contextValue","Provider","value","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/doshi/Desktop/InnoCapital/ecommerce-app/src/context/shop-context.js"],"sourcesContent":["import React, { useState, createContext, useEffect } from 'react';\r\n\r\n\r\nexport const ShopContext = createContext(null);\r\n\r\nconst getDefaultCart = (products) => {\r\n    let cart = {};\r\n    products.forEach(product => {\r\n        cart[product.id] = 0;\r\n    })\r\n    return cart;\r\n}\r\n\r\nexport const ShopContextProvider = (props) => {\r\n    const [products, setProducts] = useState([]);\r\n\r\n    useEffect(() => {\r\n        fetch('https://dummyjson.com/products')\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                setProducts(data.products);\r\n                setCartItems(getDefaultCart(data.products));\r\n            })\r\n            .catch(error => console.error('Error fetching data:', error));\r\n    }, []);\r\n    \r\n    const [cartItems, setCartItems] = useState(getDefaultCart(products));\r\n\r\n    const addToCart = (ProdID) => {\r\n        setCartItems((prevState) => ({...prevState, [ProdID]: prevState[ProdID] + 1}))\r\n    };\r\n\r\n    const removeFromCart = (ProdID) => {\r\n        setCartItems((prevState) => ({...prevState, [ProdID] : Math.max(0, prevState[ProdID] - 1)}))\r\n    }\r\n\r\n    const updateCartItemCount = (neAmount, itemID) => {\r\n        setCartItems((prevState) => ({}))\r\n    }\r\n\r\n    const contextValue = {products, cartItems, addToCart, removeFromCart};\r\n\r\n  return <ShopContext.Provider value={contextValue}>{props.children}</ShopContext.Provider>;\r\n};\r\n\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,aAAa,EAAEC,SAAS,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAGlE,OAAO,MAAMC,WAAW,gBAAGJ,aAAa,CAAC,IAAI,CAAC;AAE9C,MAAMK,cAAc,GAAIC,QAAQ,IAAK;EACjC,IAAIC,IAAI,GAAG,CAAC,CAAC;EACbD,QAAQ,CAACE,OAAO,CAACC,OAAO,IAAI;IACxBF,IAAI,CAACE,OAAO,CAACC,EAAE,CAAC,GAAG,CAAC;EACxB,CAAC,CAAC;EACF,OAAOH,IAAI;AACf,CAAC;AAED,OAAO,MAAMI,mBAAmB,GAAIC,KAAK,IAAK;EAAAC,EAAA;EAC1C,MAAM,CAACP,QAAQ,EAAEQ,WAAW,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAE5CE,SAAS,CAAC,MAAM;IACZc,KAAK,CAAC,gCAAgC,CAAC,CAClCC,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACG,IAAI,IAAI;MACVL,WAAW,CAACK,IAAI,CAACb,QAAQ,CAAC;MAC1Bc,YAAY,CAACf,cAAc,CAACc,IAAI,CAACb,QAAQ,CAAC,CAAC;IAC/C,CAAC,CAAC,CACDe,KAAK,CAACC,KAAK,IAAIC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC,CAAC;EACrE,CAAC,EAAE,EAAE,CAAC;EAEN,MAAM,CAACE,SAAS,EAAEJ,YAAY,CAAC,GAAGrB,QAAQ,CAACM,cAAc,CAACC,QAAQ,CAAC,CAAC;EAEpE,MAAMmB,SAAS,GAAIC,MAAM,IAAK;IAC1BN,YAAY,CAAEO,SAAS,KAAM;MAAC,GAAGA,SAAS;MAAE,CAACD,MAAM,GAAGC,SAAS,CAACD,MAAM,CAAC,GAAG;IAAC,CAAC,CAAC,CAAC;EAClF,CAAC;EAED,MAAME,cAAc,GAAIF,MAAM,IAAK;IAC/BN,YAAY,CAAEO,SAAS,KAAM;MAAC,GAAGA,SAAS;MAAE,CAACD,MAAM,GAAIG,IAAI,CAACC,GAAG,CAAC,CAAC,EAAEH,SAAS,CAACD,MAAM,CAAC,GAAG,CAAC;IAAC,CAAC,CAAC,CAAC;EAChG,CAAC;EAED,MAAMK,mBAAmB,GAAGA,CAACC,QAAQ,EAAEC,MAAM,KAAK;IAC9Cb,YAAY,CAAEO,SAAS,KAAM,CAAC,CAAC,CAAC,CAAC;EACrC,CAAC;EAED,MAAMO,YAAY,GAAG;IAAC5B,QAAQ;IAAEkB,SAAS;IAAEC,SAAS;IAAEG;EAAc,CAAC;EAEvE,oBAAOzB,OAAA,CAACC,WAAW,CAAC+B,QAAQ;IAACC,KAAK,EAAEF,YAAa;IAAAG,QAAA,EAAEzB,KAAK,CAACyB;EAAQ;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAuB,CAAC;AAC3F,CAAC;AAAC5B,EAAA,CA9BWF,mBAAmB;AAAA+B,EAAA,GAAnB/B,mBAAmB;AAAA,IAAA+B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}